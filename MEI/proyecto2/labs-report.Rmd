---
title: "Statistical Methods for Engineers"
subtitle: "Laboratory activities"
author: "Jon Echevarria Sasia"
date: "`r Sys.Date()`"
output:
  html_notebook:
    toc: true
---

# 1st PART

**Consider the following two games.**

-   **In Game A you flip a fair coin. If the coin comes up Heads you get two dollars, whereas if it comes up Tails you get one dollar.**

-   **In Game B you roll a fair die. If the six-spot comes up, you win twenty-five dollars. If you get 2, 3, 4, or 5, nothing happens. If the one-spot comes up, you lose fifteen dollars.**

**In this exercise you need to answer two questions:**

1.  **If you could choose to play either Game A or Game B *just once*, which game would you prefer to play, and why? (Use only your intuition)**
I would prefer to play the first game just once as i have a higher probability of winning even if it is a smaller amount of money.

2.  **Suppose that you can choose either to play Game A ten thousand times, or Game B ten thousand times. Which choice would you prefer, and why? (Use only your intuition)**
For this one i prefer to play Game B as i think that repeating the game that many times and with the amount of money that you can win could be better.

**Answers to the first question will vary from person to person, depending on circumstances and personal taste. On the other hand, astute consideration of expected values leads most people to answer the second question in the same way.**

## 1st activity

**Which random variable we have to define for representing the first game? And the second game? Find the probability mass functions of both random variables and plot them.**

```{r}
# Define the random variables for Game A and Game B
outcomes_A <- c(2, 1)
outcomes_B <- c(25, 0, 0, 0, 0, -15)

# Define the probability mass functions
pmf_A <- rep(1/2, length(outcomes_A))  # Fair coin, equal probability for each outcome
pmf_B <- rep(1/6, length(outcomes_B))  # Fair die, equal probability for each outcome

# Plot the probability mass functions
barplot(pmf_A, names.arg = outcomes_A, main = "PMF for Game A", xlab = "Win Amount", ylab = "Probability", col = "blue")
barplot(pmf_B, names.arg = outcomes_B, main = "PMF for Game B", xlab = "Win Amount", ylab = "Probability", col = "green")

```

## 2nd activity

**Find the expected values and the variances of previously defined random variables. Which are the meaning of these values?**

```{r}
# Calculate expected values for Game A and Game B
expected_value_A <- sum(outcomes_A * pmf_A)
expected_value_B <- sum(outcomes_B * pmf_B)

# Calculate variances for Game A and Game B
variance_A <- sum((outcomes_A - expected_value_A)^2 * pmf_A)
variance_B <- sum((outcomes_B - expected_value_B)^2 * pmf_B)

expected_value_A # 1.5
expected_value_B # 1.66
variance_A # 0.25
variance_B # 138.88

```
The expected values are the expected amount of money that you would win over many repetitions, and the variances are the spread amount that is expected in the expected values.

## 3rd activity

**Simulate the results from both games when the variable** $n$ **is the number of times we play (check the `sample() function help)`. Repeat the simulation for each value of** $n$ **five times and fill the tables:**

```{r}
# Function to simulate results for Game A
simulate_game_A <- function(n) {
  results <- replicate(5, mean(sample(outcomes_A, n, replace = TRUE, prob = pmf_A)))
  results
}

# Function to simulate results for Game B
simulate_game_B <- function(n) {
  results <- replicate(5, mean(sample(outcomes_B, n, replace = TRUE, prob = pmf_B)))
  results
}

# Simulate results for different values of n
n_values <- c(100, 1000, 10000)

# Create tables to store results
results_table_A <- matrix(NA, nrow = 5, ncol = length(n_values))
results_table_B <- matrix(NA, nrow = 5, ncol = length(n_values))

# Simulate and fill the tables
for (i in seq_along(n_values)) {
  n <- n_values[i]
  
  results_table_A[, i] <- simulate_game_A(n)
  results_table_B[, i] <- simulate_game_B(n)
}

# Display the tables
results_table_A
results_table_B


```

-   $n=100$

|                |       |       |       |       |       |
|:--------------:|:-----:|:-----:|:-----:|:-----:|:-----:|
|   **Repeat**   | **1** | **2** | **3** | **4** | **5** |
| $\overline{x}  \ of \ A$ |   1.5    |  1.51     | 1.49      | 1.58      |1.42      |
| $\overline{x}  \ of \ B$ |   0.35    |  2.7     | 1.85      | 1.80      |-0.20      |

-   $n=1,000$

|   **Repeat**   | **1** | **2** | **3** | **4** | **5** |
|:--------------:|:-----:|:-----:|:-----:|:-----:|:-----:|
| $\overline{x}  \ of \ A$ |   1.537    |  1.471     | 1.507      | 1.504      |1.497      |
| $\overline{x}  \ of \ B$ |   1.235    |  1.735     | 1.390      | 2.180      |1.615      |

-   $n=10,000$

|   **Repeat**   | **1** | **2** | **3** | **4** | **5** |
|:--------------:|:-----:|:-----:|:-----:|:-----:|:-----:|
| $\overline{x}  \ of \ A$ |   1.5020    |  1.4978     | 1.5002      | 1.4976      |1.5033      |
| $\overline{x}  \ of \ B$ |   1.6265    |  1.7890     | 1.5345      | 1.6125      |1.5230      |

## 4th activity

**Which is the probability of winning more than** $5,000$ **dollars or more in with the first game if we play it** $10,000$ **times? And with the second game?**

```{r}
# Number of times each game is played
num_trials = 10000

# Simulate outcomes for Game A
outcomes_A = sample(c(2, 1), num_trials, replace = TRUE, prob = c(0.5, 0.5))

# Calculate total winnings for Game A
total_winnings_A = sum(outcomes_A)

# Calculate probability of winning more than $5,000 in Game A
prob_winning_5000_A = sum(total_winnings_A > 5000) / num_trials

# Simulate outcomes for Game B
outcomes_B = sample(c(25, 0, -15), num_trials, replace = TRUE, prob = c(1/6, 4/6, 1/6))

# Calculate total winnings for Game B
total_winnings_B = sum(outcomes_B)

# Calculate probability of winning more than $5,000 in Game B
prob_winning_5000_B = sum(total_winnings_B > 5000) / num_trials

options(scipen = 999)
# Print the probabilities
cat("Probability of winning more than $5,000 in Game A:", prob_winning_5000_A, "\n")
cat("Probability of winning more than $5,000 in Game B:", prob_winning_5000_B, "\n")

options(scipen = 0)

```

# 2nd PART

**The [adult data set](https://archive.ics.uci.edu/ml/datasets/adult) is a famous dataset from the [UCI - machine learning repository](https://archive.ics.uci.edu/ml/index.php).**

**The idea is to predict whether income exceeds \$50K/yr based on census data. Also known as "Census Income" dataset. Extraction was done by Barry Becker from the 1994 Census database.**

**Read a little bit about how this dataset is built. Which variables made up the dataset and what are their meanings? What is the character of each variable (qualitative, quantitative, ...). You can also use the `summary()`** **function to get some information.**

```{r}

```

## 1st activity

**Choose a variable from your data set and describe it in depth. You should use graphs and statistics for description. To do this, work on the following sections:**

-   **Which type of variable is it?**

-   **How many individuals are in the sample?**

-   **Which graph do you think will show properly the values that the variable takes?**

-   **Compute central tendency statistics and interpret them.**

-   **Find the maximum, minimum and quartiles.**

-   **What would you say about dispersion?**

-   **Is it fine to use Is it okay to use Chebishev's inequality with the distribution of this variable? Why? If it is possible, use it and explain the result you obtain.**

## 2nd activity

**How does the variable you chose in the previous section relate to the other variables? Are the variables in the dataset correlated? Follow these instructions:**

-   **Make appropriate graphs to see if there is a relationship between your chosen variable and other variables.**

-   **Calculate the correlation coefficient between the chosen variable and each of the other variables. With which do you think the chosen variable has the strongest relationship? How is it? And the weakest?**

-   **Find two variables (we'll call them X and Y here) and calculate the regression line. Give the value predicted by the model for a value of Y that does not appear in the data set.**

## 3rd activity

In the context set by data and reasoning about what you are doing:

-   Calculate a 95% confidence interval for a variable that you decide is useful.

```{r}

```

-   Pose a hypothesis testing for a variable that you decide is useful. What decision have you made?

```{r}

```
